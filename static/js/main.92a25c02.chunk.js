(this.webpackJsonpcryptodash=this.webpackJsonpcryptodash||[]).push([[0],{32:function(e,t,n){e.exports=n(68)},37:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(26),i=n.n(o),c=(n(37),n(11)),s=n(12),l=n(16),u=n(13),f=n(17),m=n(3),p=n(4),v=n.n(p),d=n(9),g=n(7),h=n(10),b=n.n(h),y=n(19),C=n.n(y);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=10;b.a.setApiKey("2a1cb16375540529ccd37a41d1374ecc415e296a3ae667c83474034d2c8f636f");var j=a.a.createContext(),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).setPage=function(e){n.setState({page:e})},n.changeTheme=function(e){n.setState({isLight:"light"===e},(function(){"light"===e?(document.body.style.background="#e1eaee",document.body.style.color="#061a44"):(document.body.style.background="#010e2c",document.body.style.color="white")}))},n.initialLoad=function(){var e=JSON.parse(localStorage.getItem("cryptodash"));return e?{favouriteCoins:e.favouriteCoins,pricesList:e.pricesList,currentFav:e.currentFav,coinsList:e.coinsList}:{page:"Settings",firstVisit:!0}},n.addFavourites=function(e){var t=Object(g.a)(n.state.favouriteCoins);t.length<10&&(t.push(e),n.setState({favouriteCoins:t}))},n.isInFavourites=function(e){return-1!==Object(g.a)(n.state.favouriteCoins).findIndex((function(t){return t===e}))},n.removeFavourites=function(e){var t=Object(g.a)(n.state.favouriteCoins);if(t.length>0){var r=t.findIndex((function(t){return t===e}));t=[].concat(Object(g.a)(n.state.favouriteCoins.slice(0,r)),Object(g.a)(n.state.favouriteCoins.slice(r+1,n.state.favouriteCoins.length))),n.setState({favouriteCoins:t},(function(){}))}},n.confirmFavourites=function(){n.setState({page:"Dashboard",firstVisit:!1,currentFav:0,historical:null,pricesList:null},(function(){n.coinPriceFetch().then((function(e){n.fetchHistorical(),localStorage.setItem("cryptodash",JSON.stringify({coinsList:n.state.coinsList,favouriteCoins:n.state.favouriteCoins,currentFav:n.state.currentFav,pricesList:n.state.pricesList}))}))}))},n.updateCurrentFav=function(e){n.setState({currentFav:e,historical:null},(function(){n.fetchHistorical(),localStorage.setItem("cryptodash",JSON.stringify({coinsList:n.state.coinsList,favouriteCoins:n.state.favouriteCoins,currentFav:n.state.currentFav,pricesList:n.state.pricesList}))}))},n.getCurrentFavCoinDetails=function(){if(n.state.pricesList){var e=Object(g.a)(n.state.pricesList),t=n.state.coinsList,r=e[n.state.currentFav],a=null;for(var o in t)t[o].Symbol===r.symbol&&(a=t[o]);return a}},n.fetchCoins=Object(d.a)(v.a.mark((function e(){var t,r,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.coinList();case 2:for(a in t=e.sent,r={},t.Data)(o=t.Data[a]).IsTrading&&o.TotalCoinsMined&&o.TotalCoinsMined>0&&(r[a]=o);console.log(r),n.setState({coinsList:r},(function(){localStorage.setItem("cryptodash",JSON.stringify({coinsList:n.state.coinsList,favouriteCoins:n.state.favouriteCoins,currentFav:n.state.currentFav,pricesList:n.state.pricesList}))}));case 7:case"end":return e.stop()}}),e)}))),n.fetchHistorical=Object(d.a)(v.a.mark((function e(){var t,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.coinFetchHistorical();case 2:t=e.sent,r=[{name:n.getCurrentFavCoinDetails().Name,data:t.map((function(e,t){return[C()().subtract(Object(m.a)({},n.state.timeInterval,F-t)).valueOf(),e.USD]}))}],console.log(t),console.log(r[0]),n.setState({historical:r});case 7:case"end":return e.stop()}}),e)}))),n.coinFetchHistorical=function(){for(var e=[],t=n.getCurrentFavCoinDetails().Symbol,r=F;r>0;r--){var a=b.a.priceHistorical(t,["USD"],C()().subtract(Object(m.a)({},n.state.timeInterval,r)).toDate());e.push(a)}return Promise.all(e)},n.coinPriceFetch=Object(d.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchPrices();case 2:t=e.sent,n.setState({pricesList:t});case 4:case"end":return e.stop()}}),e)}))),n.fetchPrices=Object(d.a)(v.a.mark((function e(){var t,r,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.firstVisit){e.next=2;break}return e.abrupt("return");case 2:if(t=[],!n.state.favouriteCoins.length){e.next=10;break}return e.next=6,b.a.priceFull(n.state.favouriteCoins,["USD"]);case 6:for(a in r=e.sent,console.log(n.state.favouriteCoins),console.log(r),r)t.push(E({symbol:a},r[a]));case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)}))),n.setFilteredCoins=function(e){n.setState({filteredCoins:e})},n.changeTimeInterval=function(e){console.log(e),n.setState({timeInterval:e,historical:null},(function(){n.fetchHistorical()}))},n.state=E({page:"Dashboard",setPage:n.setPage,confirmFavourites:n.confirmFavourites,coinsList:null,favouriteCoins:[],addFavourites:n.addFavourites,removeFavourites:n.removeFavourites,isInFavourites:n.isInFavourites,isLight:!1,filteredCoins:null,setFilteredCoins:n.setFilteredCoins,pricesList:null,timeInterval:"months",updateCurrentFav:n.updateCurrentFav,getCurrentFavCoinDetails:n.getCurrentFavCoinDetails,changeTimeInterval:n.changeTimeInterval,changeTheme:n.changeTheme},n.initialLoad()),n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchCoins(),this.fetchPrices(),this.state.pricesList&&this.fetchHistorical()}},{key:"render",value:function(){return a.a.createElement(j.Provider,{value:this.state},this.props.children)}}]),t}(r.Component),S=n(5),w=n(6);function L(){var e=Object(S.a)(["\n\t\tcolor: white;\n\t\ttext-shadow: 0px 0px 25px #03ff03;\n\t"]);return L=function(){return e},e}function P(){var e=Object(S.a)(["\n\t","\n"]);return P=function(){return e},e}var x=w.b.p(P(),(function(e){return e.active&&Object(w.a)(L())})),D=function(e){return a.a.createElement(j.Consumer,null,(function(t){return a.a.createElement(x,{active:t.page===e.name,onClick:function(){return t.setPage(e.name)}},a.a.createElement("a",{href:"#"},e.name))}))},_=function(){return a.a.createElement("nav",{className:"page-layout__nav"},a.a.createElement("h1",{className:"page-layout__nav--logo"},a.a.createElement("a",{href:"#"},"CryptoDash")),a.a.createElement(D,{name:"Settings"}),a.a.createElement(D,{name:"Dashboard"}),a.a.createElement(j.Consumer,null,(function(e){var t=e.changeTheme;return a.a.createElement("select",{defaultValue:"dark",onChange:function(e){return t(e.target.value)}},a.a.createElement("option",{value:"dark"},"Dark"),a.a.createElement("option",{value:"light"},"Light"))})))},A=function(e){return a.a.createElement("div",{className:"page-layout"},a.a.createElement(_,null),e.children)},N=function(){return a.a.createElement(j.Consumer,null,(function(e){var t=e.firstVisit,n=e.favouriteCoins;return t||!n.length?a.a.createElement("h1",{className:"sub-heading"},"Welcome to Cryptodash. Please choose your favourite cryptocurrency"):null}))},T=function(){return a.a.createElement(j.Consumer,null,(function(e){var t=e.confirmFavourites;return a.a.createElement("button",{className:"button settings__button",onClick:t},"Confirm Favourites")}))},I=function(e){var t=e.name,n=e.symbol,r=e.favouriteType,o=e.tileType,i=e.priceCoin,c=i?i.USD.CHANGEPCT24HOUR.toFixed(4):null,s={color:c?c>0?"green":"red":null,fontSize:"1.2rem"};return a.a.createElement("div",{className:"coins__coinsgrid--coin__header"},"priceTile"!==o?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,t),a.a.createElement("p",{style:{display:r?"none":"block"}},r?"X":n)):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,i.symbol),a.a.createElement("p",{style:s},c,"%")))},H=function(e){var t=e.image,n=e.symbol,r=e.customStyling;return a.a.createElement("img",{src:"http://cryptocompare.com/".concat(t),alt:n,style:r||{height:"50px"}})},B=function(e){return e?{background:"white"}:null};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var V={pointerEvents:"none",opacity:.4},U=function(e){var t=e.coin,n=e.type,r=e.addFavourites,o=e.removeFavourites,i=e.isInFavourites,c=e.isLight;console.log(c);var s=n?"coins__coinsgrid--coin__".concat(n):"c",l=n?o:r,u=n?B(c):i(t.Name)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},V,{},B(c)):B(c);return a.a.createElement("div",{className:"coins__coinsgrid--coin ".concat(s),onClick:function(e){return l(t.Name)},style:u},a.a.createElement(I,{name:t.Name,symbol:t.Symbol,favouriteType:!!n}),a.a.createElement(H,{image:t.ImageUrl,symbol:t.Symbol}))},z=function(e){var t=e.type;return a.a.createElement(j.Consumer,null,(function(e){var n=e.coinsList,r=e.favouriteCoins,o=e.addFavourites,i=e.removeFavourites,c=e.isInFavourites,s=e.filteredCoins,l=e.isLight;return a.a.createElement("div",{className:"coins__coinsgrid"},function(e,t,n,r){return t?n:null!==r?r.length>=50?r.slice(0,50):r:Object.keys(e).slice(0,50)}(n,t,r,s).map((function(e){return a.a.createElement(U,{key:e,coin:n[e],type:t||!1,addFavourites:o,removeFavourites:i,isInFavourites:c,isLight:l})})))}))},M=n(8);function J(){var e=Object(S.a)(["\n\tdisplay: block;\n\tjustify-self: center;\n\tmargin-top: 2rem\n"]);return J=function(){return e},e}var R=Object(w.a)(J()),$=function(e){return a.a.createElement(j.Consumer,null,(function(t){var n=t.coinsList,r=t.pricesList,o=t.firstVisit,i=t.favouriteCoins;return"Settings"===e.page?n?e.children:a.a.createElement(M.BounceLoader,{loading:!0,size:70,color:"#123abc",css:R}):"Dashboard"===e.page?i.length?r&&!o?e.children:a.a.createElement("p",null,"Loading prices"):a.a.createElement("p",{className:"h2"},"You don't have any favourite coins. Please go to settings and choose favourites"):void 0}))},G=n(30),K=n.n(G);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Y=function(e,t,n){!function(e,t,n){var r=Object.keys(t).map((function(e){return t[e]})).filter((function(t){return K.a.includes(t.CoinName.toLowerCase(),e.toLowerCase())})).map((function(e){return e.Symbol}));console.log(r),n(r)}(e.target.value,t,n)},q=function(){return a.a.createElement(j.Consumer,null,(function(e){var t=e.coinsList,n=e.setFilteredCoins,r=e.isLight;console.log(t);var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},B(r),{color:"#061a44"});return a.a.createElement("div",{className:"settings__search"},a.a.createElement("label",null,"Search for a coin",a.a.createElement("input",{type:"text",name:"coin__input",placeholder:"Search coin",onChange:function(e){return Y(e,t,n)},style:o})))}))},Q=function(e){var t=e.page;return a.a.createElement($,{page:t},a.a.createElement(z,{type:"favouriteType"}),a.a.createElement(N,null),a.a.createElement(T,null),a.a.createElement(q,null),a.a.createElement(z,null))};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={boxShadow:"0px 0px 4px 1px #03ff03",pointerEvents:"none"},ne=function(e){var t=e.coin,n=e.type,r=e.index,o=e.currentFav,i=e.updateCurrentFav,c=e.isLight,s=t.USD.PRICE;return s=s>=1?s.toFixed(2):s.toFixed(5),a.a.createElement("div",{className:"coins__coinsgrid--coin ".concat(r+1>5?"compact-coinTile":""),style:o?ee({},te,{},B(c)):B(c),onClick:function(e){return i(r)}},a.a.createElement(I,{tileType:"priceTile",name:t.CoinName,symbol:t.Symbol,priceCoin:t,favouriteType:!!n}),a.a.createElement("h3",null,"$",s))},re=function(){return a.a.createElement(j.Consumer,null,(function(e){var t=e.pricesList,n=e.currentFav,r=e.updateCurrentFav,o=e.isLight;return a.a.createElement("div",{className:"coins__coinsgrid price-grid"},t.map((function(e,t){return a.a.createElement(ne,{key:e.symbol,index:t,coin:e,updateCurrentFav:r,currentFav:t===n,isLight:o})})))}))},ae=function(e){return{title:{text:""},yAxis:{title:{text:"Prices"}},xAxis:{type:"datetime"},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:e,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}},oe=n(23),ie=n.n(oe),ce=function(e){var t=e.isLight;return ie.a.Highcharts.setOptions(function(e){return console.log(e),{colors:["#55BF3B","#DF5353","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:e?"white":"#061a44",borderWidth:0,className:"dark-container",plotBorderWidth:0},xAxis:{gridLineWidth:0,labels:{style:{color:e?"black":"#A0A0A0"}},lineColor:e?"black":"#A0A0A0",tickColor:e?"black":"#A0A0A0",title:{style:{color:e?"black":"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},yAxis:{gridLineWidth:0,labels:{style:{color:e?"black":"#A0A0A0"}},lineColor:e?"black":"#A0A0A0",minorTickInterval:null,tickColor:e?"black":"#A0A0A0",tickWidth:1,title:{style:{color:e?"black":"#CCC",fontWeight:"bold",fontSize:"12px",fontFamily:"Trebuchet MS, Verdana, sans-serif"}}},tooltip:{backgroundColor:e?"black":"rgba(0, 0, 0, 0.75)",style:{color:e?"white":"#F0F0F0"}},toolbar:{itemStyle:{color:e?"black":"silver"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},legend:{backgroundColor:e?"black":"rgba(0, 0, 0, 0.5)",itemStyle:{font:"9pt Trebuchet MS, Verdana, sans-serif",color:e?"white":"#A0A0A0"},itemHoverStyle:{color:e?"black":"#FFF"},itemHiddenStyle:{color:"#444"},title:{style:{color:e?"black":"#C0C0C0"}}},labels:{style:{color:"#CCC"}},credits:{enabled:!1}}}(t)),a.a.createElement(j.Consumer,null,(function(e){var n=e.historical,r=e.changeTimeInterval;return a.a.createElement("div",{className:"dashboard__chart",style:B(t)},a.a.createElement("select",{defaultValue:"months",onChange:function(e){return r(e.target.value)}},a.a.createElement("option",{value:"days"},"Days"),a.a.createElement("option",{value:"weeks"},"Weeks"),a.a.createElement("option",{value:"months"},"Months")),a.a.createElement(ie.a,{config:ae(n)}))}))};function se(){var e=Object(S.a)(["\n\tdisplay: block;\n\tjustify-self: center;\n\tmargin-top: 2rem\n"]);return se=function(){return e},e}var le=Object(w.a)(se()),ue={height:"auto"},fe=function(){return a.a.createElement(j.Consumer,null,(function(e){var t=e.getCurrentFavCoinDetails,n=e.historical,r=e.isLight,o=t();return o?a.a.createElement("div",{className:"dashboard__grid"},a.a.createElement("div",{className:"dashboard__spotlight-coin",style:B(r)},a.a.createElement("p",null,o.Name),a.a.createElement(H,{image:o.ImageUrl,symbol:o.Symbol,customStyling:ue})),n?a.a.createElement(ce,{isLight:r}):a.a.createElement("div",{className:"chart-loader",style:B(r)},a.a.createElement(M.BounceLoader,{loading:!0,size:70,color:"#123abc"}))):a.a.createElement(M.BounceLoader,{loading:!0,size:70,color:"#123abc",css:le})}))},me=function(e){var t=e.page;return a.a.createElement($,{page:t},a.a.createElement(re,null),a.a.createElement(fe,null))},pe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).pageToRender=function(e){switch(console.log(e),e){case"Settings":return a.a.createElement(Q,{page:e});case"Dashboard":return a.a.createElement(me,{page:e})}},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(k,null,a.a.createElement(A,null,a.a.createElement(j.Consumer,null,(function(t){return e.pageToRender(t.page)}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.92a25c02.chunk.js.map